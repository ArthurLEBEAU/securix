(()=>{var c=Object.defineProperty;var i=(e,r)=>c(e,"name",{value:r,configurable:!0});async function a(e="",r={}){return(await fetch(e,{method:"POST",mode:"cors",headers:{Accept:"application.json","Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(r)})).json()}i(a,"postData");$(document).ready(async function(){let e=document.querySelector("form#requestForm"),r=document.querySelector("form#requestForm button"),t=!1;e.addEventListener("submit",l=>{if(l.preventDefault(),!t){let s={name:e.elements.name.value,email:e.elements.email.value,question:e.elements.message.value};s.email==""||s.question==""||s.name==""?Swal.fire({icon:"error",title:"Oops...",text:"des informations manquent!"}):(t=!0,r.classList.toggle("is-loading"),e.classList.toggle("is-loading"),r.textContent="Chargement...",a(e.getAttribute("action"),s).then(n=>{if(r.classList.toggle("is-loading"),e.classList.toggle("is-loading"),r.textContent="soumettre",t=!1,!n.error)Swal.fire({icon:"success",text:"Votre question a \xE9t\xE9e re\xE7ue !",showConfirmButton:!1,timer:3e3}),e.elements.name.value="",e.elements.email.value="",e.elements.message.value="";else{let o="";for(let u in n.error)o+=`<li>${n.error[u]}</li>`;Swal.fire({icon:"error",title:"Oops...",html:`<ul>${o}</ul>`})}},n=>{t=!1,r.textContent="soumettre",Swal.fire({icon:"error",title:"Oops...",text:"reessayer plus tard!"})}))}})});})();
