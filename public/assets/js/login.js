(()=>{var d=Object.defineProperty;var l=(t,s)=>d(t,"name",{value:s,configurable:!0});async function u(t="",s={}){return(await fetch(t,{method:"POST",mode:"cors",headers:{Accept:"application.json","Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(s)})).json()}l(u,"postData");$(document).ready(async function(){let t=document.querySelector("#icon_show"),s=document.querySelector("#password"),n=!1;t.addEventListener("click",c=>{n?t.setAttribute("src","/static/assets/images/login/icons8-eye.png"):t.setAttribute("src","/static/assets/images/login/icons8-eye-slash.png"),s.type=n?"password":"text",n=!n});let e=document.querySelector("form"),r=document.querySelector("form > button"),o=!1;e.addEventListener("submit",c=>{if(c.preventDefault(),!o){let i={username:e.elements.userName.value,password:e.elements.password.value};i.username==""||i.password==""?Swal.fire({icon:"error",title:"Oops...",text:"des informations manquent!"}):(o=!0,r.textContent="Chargement...",r.classList.toggle("is-loading"),e.classList.toggle("is-loading"),u(e.getAttribute("action"),i).then(a=>{r.textContent="Se connecter",r.classList.toggle("is-loading"),e.classList.toggle("is-loading"),o=!1,a.error?Swal.fire({icon:"error",title:"Oops...",text:a.error}):(Swal.fire({icon:"success",text:"Conexion reussit !",showConfirmButton:!1,timer:3e3}),e.elements.userName.value="",e.elements.password.value="",location.replace("/admin"))},a=>{r.textContent="Se connecter",r.classList.toggle("is-loading"),e.classList.toggle("is-loading"),o=!1,Swal.fire({icon:"error",title:"Oops...",text:"reessayer plus tard!"})}))}})});})();
